<!DOCTYPE html>
<html lang="en">
<head>
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
	<meta content="width=device-width, initial-scale=1, maximum-scale=1.0" name="viewport"/>
	<title>Advent Of Code 2020 - Day 3</title>

	<!-- CSS  -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="css/materialize.css" media="screen,projection" rel="stylesheet" type="text/css"/>
	<link href="css/style.css" media="screen,projection" rel="stylesheet" type="text/css"/>
	<link rel="icon" type="image/png" sizes="96x96" href="img/favicon.ico">

</head>
<body>


<ul class="dropdown-content" id="dropdown1">
</ul>
<nav class="light-blue lighten-1" role="navigation">
	<div class="nav-wrapper">
		<a href="#" class="brand-logo center">Day 3</a>

		<ul class="right hide-on-med-and-down">
			<!-- Dropdown Trigger -->
			<a class="dropdown-trigger" data-target="dropdown1" href="#!">Altri giorni<i class="material-icons right">arrow_drop_down</i></a>
		</ul>

		<ul class="sidenav" id="nav-mobile">
		</ul>
		<a class="sidenav-trigger" data-target="nav-mobile" href="#"><i class="material-icons">menu</i></a>
	</div>
</nav>

<div class="container">
	<div class="section center">
		<div class="row">
			<h1>Ecco Leonardo ora</h1>
		</div>
	</div>
	<div class="section">
		<div class="row center">
			<div class="col input-field file-field s12">
				<div class="btn">
					<span>Inserire l'input</span> <input id="inputfile" name="inputfile" type="file">
				</div>

				<div class="file-path-wrapper">
					<input class="file-path validate" type="text">
				</div>
			</div>
		</div>
		<div class="row center">
			<div class="col s6">
				<h5>Parte 1: </h5>
				<h6 id="Parte1"></h6>
			</div>
			<div class="col s6">
				<h5>Parte 2: </h5>
				<h6 id="Parte2"></h6>
			</div>
		</div>

	</div>
	<div class="section center">
		<div class="row">
			<h1>ora Ã¨ carino</h1>
		</div>
	</div>
</div>


<!--  Scripts-->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="js/materialize.js"></script>
<script src="js/init.js"></script>
<script src="js/custom.js"></script>

<script>

	let input


	function getMatrixFromInput() {
		let rows = input.split("\n");
		let matrix = [];

		for (let i = 0; i < rows.length; i++) {
			matrix[i] = [];
			for (let j = 0; j < rows[i].length; j++) {
				matrix[i][j] = undefined;
			}
		}


		for (let i = 0; i < rows.length; i++) {
			let pippo = rows[i].split("")
			for (let j = 0; j < pippo.length; j++) {
				matrix[i][j] = pippo[j];
			}
		}
		return matrix;
	}

	function howManyTreesInPath(n, m) {

		let matrix = getMatrixFromInput();
		console.log(matrix)
		let i = 0;
		let j = 0;
		let count = 0;

		for (let k = 0; k < matrix.length; k++, i += n, j += m) {

			if (i >= matrix.length) {
				break
			}

			j = j % matrix[i].length

			console.log(j, matrix[i].length, n, m)
			//console.log(matrix[i][j], i, j, matrix.length)
			if (matrix[i][j] == "#") {
				count++
			}
		}

		return count

	}

	function performAdvent() {
		 $("#Parte1").html(howManyTreesInPath(1, 3))

		let a = howManyTreesInPath(1, 1);
		let b = howManyTreesInPath(1, 3);
		let c = howManyTreesInPath(1, 5);
		let d = howManyTreesInPath(1, 7);
		let e = howManyTreesInPath(2, 1);
		$("#Parte2").html(a * b * c * d * e)
	}

	$(document).ready(function () {
		setUpNav($("#dropdown1"), $("#nav-mobile"))
		$(".dropdown-trigger").dropdown();
		getInput(performAdvent);
	});


</script>

</body>
</html>
